<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<title>阿飞老师-vip课</title>
		<style type="text/css">
			*{ margin:0; padding:0;}
			.wrap{
				width:570px;
				height:420px;
				margin:100px auto;
				perspective:800px;
				position:relative;
			}

			.wrap .list{
				width:570px;
				height:420px;
				position:absolute;
				top:0;
				left:0;
			}

			.list li{
				list-style:none;
				width:55px;
				height:58px;
				border:1px solid rgba(0,0,0,0);
				float:left;
				background-origin:border-box;
				transform-style:preserve-3d;
				opacity:1;
			}

			.list:nth-child(1) li{ background-image:url(img/1.jpg);}
			.list:nth-child(2) li{ background-image:url(img/2.jpg);}
			.list:nth-child(3) li{ background-image:url(img/3.jpg);}
			.list:nth-child(4) li{ background-image:url(img/4.jpg);}
			.list:nth-child(5) li{ background-image:url(img/5.jpg);}

			input{
				width:40px;
				height:40px;
				line-height:20px;
				font-size:12px;
				color:#fff;
				font-family:'Microsoft yahei';
				border-radius:20px;
				position:absolute;
				top:210px;
				z-index:99;
			}

			input.xs{ right:-50px;}
			input.hy{ left:-50px;}

		</style>
	</head>
	<body>
		<div class="wrap">
			<ul class="list" style="z-index:10;">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<ul class="list" style="z-index:9;">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<ul class="list" style="z-index:8;">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<ul class="list" style="z-index:7;">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<ul class="list" style="z-index:6;">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<input type="button" value="消失" class="xs" />
			<input type="button" value="还原" class="hy" />
		</div>

		

		<script src="js/jquery-1.11.3.min.js"></script>
		<script>
		$(function(){
			var iX = $('.wrap').width()/$('.list li').outerWidth();
			var iY = $('.wrap').height()/$('.list li').outerHeight();
			var iL = $('.list li').size();
			var play1,play2;
			var index = 0;
			var time = new Date();
			function cha(button){
				if (button==0)
				{
					var loc = index<4&&index>-1;
				}else{
					var loc = index<5&&index>0;
				}
				if (loc)
				{
				var iIndex1 = -1;
				play1 = setInterval(function(){
					if (iIndex1<15)
					{
						iIndex1++;
						for (var i=0;i<=iIndex1;i++)
						{
							for (var j=iIndex1;j>=0;j--)
							{
								if (i+j==iIndex1)
								{
									if (button==0)
									{
										var x = 9-i,y=6-j;
										$('.list').eq(index).find('li').EQ(x,y,iX).css({
											'transition':'2s transform,2s opacity',
											'transform':'translate(-50px,-50px) rotateX(720deg)',
											'border':'1px solid rgba(0,0,0,1)',
											'opacity':'0'
										});
										break;
									}else{
										$('.list').eq(index).find('li').EQ(i,j,iX).css({
											'transition':'2s transform,2s opacity,2s border',
											'transform':'translate(0px,0px) rotateX(0deg)',
											'border':'1px solid rgba(0,0,0,0)',
											'opacity':'1'
										});
										break;
									}
									
								}
							}
						}
					}else{
						clearInterval(play1);
					}
				},50);
				if (button==0)
				{
					setTimeout(function(){index++;},1000);
				}else{
					index--;
				}
				}
			};

			$('.xs').click(function(){
				if (new Date()-time>1000)
				{
					console.log(index);
					time = new Date();
					cha(0);
				}
			});
			$('.hy').click(function(){
				if (new Date()-time>1000)
				{
					console.log(index);
					time = new Date();
					cha(1);
				}
			});
			
			for (var i=0;i<iL;i++)
			{
				x = i%iX;
				y = parseInt( i/iX );//.append(x+','+y)
				$('.wrap li').eq(i).css('background-position',-57*x+'px '+-60*y+'px');
			}
		});

		$.fn.extend({
			EQ : function(x,y,iX){
				return $(this).eq(x+y*iX);
			}
		});
		</script>
	</body>
</html>